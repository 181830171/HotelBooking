# 互联网酒店预定系统需求规格说明文档

<a name="TyI5Y"></a>
## 更新记录
| 更新时间 | 更新人 | 更新内容 |
| --- | --- | --- |
| 2020.04.10 | 汪乐琪 | 完成了1.引言 2.3用户特征 2.4约束 2.5假设与依赖部分 |
| 2020.04.12 | 魏源 | 完成了3.4数据需求部分 |
| 2020.04.15 | 汪乐琪 | 完成了3.2.1，3.2.2两个用例的功能需求 |
| 2020.04.16 | 魏源 | 完成了3.2.3，3.2.4两个用例的功能需求 |
| 2020.04.17 | 周杼彦 | 完成了2.1.1背景与机遇，3.2.5，3.2.6两个用例的功能需求 |
| 2020.04.18 | 周杼彦 | 完成了2.1.2业务需求，2.2项目功能 |
| 2020.04.18 | 徐慧雯 | 完成了3.1对外接口需求，3.3非功能需求，3.2.7搜索查看酒店用例的功能需求 |
| 2020.06.16 | 汪乐琪 | 删除2.4约束的分布式部署 |

<a name="qWLi1"></a>
## 1. 引言


<a name="e43fae20"></a>
### 1.1 目的
本文档描述了互联网酒店预定系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。<br />除特殊说明外，本文档所包含的需求都是高优先级需求。<br />

<a name="f354f907"></a>
### 1.2 范围
互联网酒店预定系统是为酒店开发的业务系统，开发的目标是帮助使用该系统的酒店处理网上预订及其相关业务，包括个人基本信息管理，浏览酒店详细信息，预定酒店，查看订单，维护酒店基本信息，录入可用客房，用户管理。<br />通过互联网酒店预定系统的应用，期望为酒店提高预订效率，降低人工成本，了解订单变化，获悉房客评价，吸引回头客并提高满意度，提高经营利润。<br />

<a name="1b49fa7c"></a>
### 1.3 参考文献
1）IEEE标准<br />2）互联网酒店预订系统用例文档<br />3）软件工程与计算（卷二）软件开发的技术基础<br />

<a name="JvHcm"></a>
## 2. 总体描述


<a name="83589e15"></a>
### 2.1 项目前景


<a name="47ab78f3"></a>
#### 2.1.1 背景与机遇
随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下酒店预订模式有着很多不方便之处。首先， 因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限， 难以选择到最适合的酒店。其次，提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期。再次，酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系。最后，虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉， 过去的参考作用就受到限制。<br />互联网酒店预定系统就是为了解决上述问题而开发的，它包括一个数据集中服务器和多个客户端，数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采用实时通信的方式完成数据交换。
<a name="97524aaa"></a>
#### 2.1.2 业务需求
BR1：在系统使用6个月后，恶意预定的现象减少50%<br />BR2：在系统使用6个月后，顾客对酒店满意度提高30%<br />BR3：在系统使用3个月后，酒店工作人员工作效率提高20%<br />BR4：在系统使用6个月后，销售额度要提高20%<br />   最好情况：40%<br />   最可能情况：20%<br />   最坏情况：10%
<a name="5e370ef8"></a>
### 2.2 项目功能
SF1：全面展现任一地域内的酒店信息，帮助顾客更好地进行比较与选择<br />SF2：执行信用累计制度，防范恶意预定<br />SF3：进行房客评价，反映酒店与描述的相符程度<br />SF4：让酒店可以及时了解到所有预定订单的变化动态<br />SF5：帮助顾客建立历史记录，在顾客预定时发挥历史记录的作用<br />SF6：为了进行网站推广，吸引酒店和顾客的入驻，该网站会在系统中补贴费用帮助酒店进行促销
<a name="2e9cb795"></a>
### 2.3 用户特征

- **客户：**网站有多个客户，分布于全球各个地区，他们通常有不定期的差旅出行计划，会不定期管理个人信息，预定酒店，浏览酒店信息。预估计在旅游旺季或节假日，有差旅需求的客户会高频率地搜索并浏览酒店详细信息，最后选择心仪酒店进行预订。随着生活质量提升，客户选择酒店的标准也相应提高，为了使顾客对酒店有一个良好的预期与估计，需要建立客户评价制度，包括评分和评论。同时，为了避免恶意预订，需要建立客户信用档案，对于信用度不足的客户，不能生成订单。有的客户不能熟练使用计算机，因此系统应简单易操作。
- **酒店工作人员：**根据酒店的经营规格，每个酒店设有一定数量的工作人员，他们每天要多次更新入住和退房信息，更新可用客房信息，执行订单。预估计在旅游旺季或节假日，每人平均每天需要处理上百次更新任务。酒店工作人员还要定期维护酒店基本信息。为了吸引客户入住与其他酒店竞争，酒店工作人员要制定酒店促销策略。酒店工作人员每天要多次浏览订单，及时对异常订单和已撤销订单进行处理。酒店工作人员操作计算机的技能较好。
- **网站营销人员：**网站设有一定数量营销人员，为了吸引客户，与其他网站竞争，网站营销人员每个季度以及节假日要制定相应的促销策略。网站营销人员每天要浏览异常订单执行情况，对相应客户的信用值进行处理。网站营销人员操作计算机的技能较好。
- **网站管理人员：**整个系统有1~3个系统管理员，他的工作是每周几次添加酒店以及工作人员信息，每月几次处理员工雇佣，离职与职位变换，并注册或注销相应账号。网站管理人员是计算机专业维护人员，计算机技能很好。
<a name="c9515ddf"></a>
### 2.4 约束
CON1:在开发中，开发者要提交用例文档，需求规格说明文档，体系结构描述文档<br />CON2:系统要使用java语言进行开发<br />CON3:系统基于Web进行开发<br />CON4:项目使用持续集成方法进行开发。<br />

<a name="1560e1d4"></a>
### 2.5 假设与依赖
AE1:网络畅通，不会发生故障<br />AE2:所有操作任务的完成时间不会超过一小时，即使用暂停与中断不会超过一小时<br />AE3:地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能。
<a name="a66a9968"></a>
## 3 详细需求描述


<a name="cb62998a"></a>
### 3.1 对外接口需求


<a name="89a2e8d4"></a>
#### 3.1.1 用户界面

<br />采用图形化用户界面，支持用户使用鼠标和键盘进行操作<br />

<a name="7f959cf5"></a>
#### 3.1.2 通信接口
客户端与服务器使用RMI的方式进行通信
<a name="ce7a3dd3"></a>
### 3.2 功能需求


<a name="ad265617"></a>
#### 3.2.1 客户：浏览，撤销订单用例


<a name="5cd65b8c"></a>
##### 3.2.1.1 特征描述
客户可以登录浏览订单，可以撤销自己未执行的正常订单，如果撤销时间距离最晚订单执行时间不足6小时，系统自动扣除信用值，撤销后将订单置为已撤销状态，记录撤销时间。<br />优先级=高
<a name="0afcf38b"></a>
##### 3.2.1.2 刺激/响应序列
刺激：客户浏览订单<br />响应：系统展示所有订单<br />刺激：客户浏览未执行正常订单<br />响应：系统展示未执行正常订单<br />刺激：客户浏览已执行订单<br />响应：系统展示已执行订单<br />刺激：客户浏览已撤销订单<br />响应：系统展示已撤销订单<br />刺激：客户撤销未执行正常订单<br />响应：系统将该订单置为已撤销状态，记录撤销时间，若撤销时间距离最晚执行时间不足6小时，扣除客户该订单总价值1/2的信用值
<a name="bafe030a"></a>
##### 3.2.1.3 相关功能需求
| | |
| --- | --- |
| UserInfo.Order <br /> UserInfo.Order.Id <br /> UserInfo.Order.OrderState<br />UserInfo.Order.Annull<br />UserInfo.Order.OrderState<br />UserInfo.Order.AnnulledTime<br />UserInfo.Order.LatestAccomplishTime<br />UserInfo.Order.Price<br /> | 客户请求浏览订单时，系统显示所有订单的信息<br />客户可以通过订单编号查找自己的订单<br />客户可以通过订单状态筛选想要查看的订单<br />系统允许客户撤销未完成正常订单<br />客户请求撤销未执行正常订单时，系统将该订单置为已撤销状态<br />客户撤销订单时，系统记录订单撤销时间<br />系统计算撤销时间与最晚执行时间的差值<br />若撤销时间与最晚执行时间差值不足6小时，系统计算订单总价值的1/2 |
| UserInfo.Credit | 若撤销时间与最晚执行时间差值不足6小时，系统扣除客户该订单总价值1/2的信用值。 |
| UserInfo.End | 系统允许客户结束浏览信息，返回主界面 |

<a name="hLP2I"></a>
#### 
<a name="E0kSv"></a>
#### 3.2.2执行订单用例
<a name="c5p8o"></a>
##### 3.2.2.1 特征描述
当客户已入住酒店，酒店工作人员改变订单状态为已执行。<br />优先级=高
<a name="U7tVr"></a>
##### 3.2.2.2 刺激/响应序列
刺激：酒店工作人员点击执行订单<br />响应：系统改变订单状态为已执行
<a name="0Al4X"></a>
##### 3.2.2.3 相关功能需求
| | |
| --- | --- |
| ExecuteOrder.Order.OrderState.CheckIn<br />ExecuteOrder.Order.OrderState<br />ExecuteOrder.Order.Id | 客户入住后，系统修改订单状态<br />酒店工作人员调取客户已入住的订单，改变订单状态为已执行<br />酒店工作人员可以通过订单编号调取订单 |
| ExecuteOrder.End | 系统允许工作人员结束执行订单的任务 |



<a name="Vz5xY"></a>
#### 3.2.3 生日特惠折扣用例
<a name="KiCnD"></a>
##### 3.2.3.1 特征描述
酒店工作人员选择提供生日特惠，完成折扣时间，力度，类型等信息填写<br />优先级=低
<a name="LgvgN"></a>
##### 3.2.3.2 刺激/响应序列
刺激：酒店工作人员选择制定生日特惠策略<br />响应：系统显示特惠策略信息填写界面<br />刺激：酒店工作人员填写生日特惠策略信息<br />响应：系统保存并更新特惠策略<br />刺激：酒店工作人员取消生日特惠策略制定<br />响应：系统关闭生日特惠策略制定
<a name="tCGxJ"></a>
##### 3.2.3.3 相关功能需求

| | |
| --- | --- |
| Coupon.Input<br />Coupon.Input.couponType<br />Coupon.Input.targetMoney<br />Coupon.Input.discountMoney<br />Conpon.Input.cancle<br />Coupon.Input.description | 系统应该允许酒店工作人员在制定生日特惠策略中进行键盘输入<br />酒店工作人员选择生日特惠策略作为策略类型,系统提供信息填写界面<br />酒店工作人员输入优惠卷使用门槛和优惠金额，系统执行信息输入<br />酒店工作人员取消信息输入，系统关闭当前输入任务<br />酒店工作人员输入优惠描述，系统执行信息输入 |
| Coupon.coupon.setDescription<br />Coupon.coupon.setStartTime<br />Coupon.coupon.setEndTime<br />Coupon.coupon.setHoteld<br />Coupon.coupon | 系统根据输入的描述设置优惠描述<br />系统根据顾客生日计算开始和结束时间<br />系统根据酒店工作人员工号设置HotelId<br />显示优惠折扣信息 |
| Coupon.End<br />Coupon.End.Upate<br />Coupon.End.Close | 系统应该允许酒店工作人员结束制定生日特惠折扣<br />系统结束任务时更新数据，参见Coupon.Update<br />在酒店工作人员确认制定特惠折扣完成时，系统关闭任务，参见Coupon.Close |
| Coupon.Update | 系统更新重要数据 |
| Coupon.Close | 系统关闭本次任务，等待开启下次任务 |

<a name="ZXQKR"></a>
#### 3.2.4 注册会员
<a name="PeGrU"></a>
##### 3.2.4.1 特征描述
当客户选择注册会员时，系统返回注册会员页面，客户完成信息填写后，进行会员信息录入和保存。          优先级=中
<a name="Io9cm"></a>
##### 3.2.4.2 刺激/响应序列
刺激：客户选择注册会员<br />响应：系统返回注册会员类型选择界面<br />刺激：客户选择注册普通会员<br />响应：系统返回普通会员信息填写界面<br />刺激：客户选择注册企业会员<br />响应：系统返回企业会员信息填写界面<br />刺激：客户填写完信息并确认<br />响应：系统保存会员信息，提示注册成功<br />刺激：客户取消会员注册<br />响应：系统取消会员注册任务
<a name="jglK5"></a>
##### 3.2.4.3 功能相关需求
| | |
| --- | --- |
| VIPSign.Input<br />VIPSign.Input.ClientType<br />VIPSign.Input.ClientInfo | 系统应该允许客户在注册会员时进行键盘输入<br />在客户选择注册的会员类型后，系统要根据选择的类型返回信息填写界面<br />选择注册普通会员的客户输入生日，选择注册企业会员的客户登记企业名称，系统执行输入任务 |
| VIPSign.user | 系统显示会员信息 |
| VIPSign.End<br />VIPSign.End.Update<br />VIPSign.End.Close | 系统应该允许客户结束注册任务<br />在客户结束注册任务时，系统更新数据，参见VIPSign.Update<br />在客户确认注册任务完成时，系统关闭注册任务，参见VIPSign.Colse |
| VIPSign.Update | 系统更新数据 |
| VIPSign.Close | 系统关闭本册注册任务，等待下一次任务开启 |

<a name="K3PJC"></a>
#### 3.2.5 制定网站促销策略
<a name="kGhSp"></a>
##### 3.2.5.1 特征描述
网站营销人员在特定的时间段，如双11，提供活动折扣。完成折扣时间，力度，类型等信息的填写。<br />优先级：低
<a name="ON8fF"></a>
##### 3.2.5.2 刺激/响应序列
刺激：网站营销人员选择制定网站促销策略<br />响应：系统显示促销策略填写界面<br />刺激：网站营销人员填写促销策略信息<br />响应：系统保存并更新促销策略<br />刺激：网站营销人员取消促销策略<br />响应：系统关闭促销策略指定界面
<a name="rDgh6"></a>
##### 3.2.5.3 相关功能需求
|||
| --- | --- |
| Coupon.Input<br />Coupon.couponType<br />Coupon.Input.startTime<br />Coupon.Input.endTime<br />Coupon.Input.discount<br />Coupon.Input.targetMoney<br />Coupon.Input.Cancel | 系统应该允许网站营销人员在制定网站促销策略时输入<br />网站营销人员选择限时优惠作为促销类型，系统提供促销策略填写界面<br />网站营销人员输入促销策略的开始时间和结束时间，系统执行信息输入<br />网站营销人员输入打折额度，系统执行信息输入<br />网站营销人员输入减免金额，系统执行信息输入<br />当网站营销人员取消当前促销策略制定时，系统关闭促销策略制定界|
| Coupon.timeCoupon.setStartTime<br />Coupon.timeCoupon.setEndTime<br />Coupon.timeCoupon.setDiscount<br />Coupon.timeCoupon.setTargetTime | 系统根据输入设置促销策略开始时间<br />系统根据输入设置促销策略结束时间<br />当discount为负数时，系统将targetMoney作为最终折扣<br />当targetMoeny为负数是，系统将discount作为最终折扣 |
| Coupon.End<br />Coupon.End.Upate<br />Coupon.End.Close | 系统应该允许网站营销人员结束制定促销策略<br />系统结束任务时更新数据，参见Coupon.Update<br />在网站营销人员确认制定特惠折扣完成时，系统关闭任务，参见Coupon.Close |
| Coupon.Update | 系统更新重要数据 |
| Coupon.Close | 系统关闭本次任务，等待开启下次任务 |



<a name="HZFtx"></a>
#### 3.2.6 用户管理（客户、酒店工作人员、网站营销人员）
<a name="XGGLK"></a>
##### 3.2.6.1 特征描述
网站管理人员可以选择查看或更改用户，酒店工作人员，网站营销人员的信息，系统将返回对应人员的信息或返回信息更改界面。网站管理人员可以添加网站营销人员，系统返回添加营销人员界面。<br />优先级：低
<a name="xBF6z"></a>
##### 3.2.6.2 刺激/响应序列
刺激：网站管理人员选择查看用户/酒店工作人员/网站营销人员信息<br />响应：系统返回用户/酒店工作人员/网站营销人员信息界面<br />刺激：网站管理人员选择修改用户/酒店工作人员/网站营销人员信息<br />响应：系统返回修改用户/酒店工作人员/网站营销人员信息界面<br />刺激：网站管理人员修改用户/酒店工作人员/网站营销人员信息<br />响应：系统保存并更新用户/酒店工作人员/网站营销人员信息<br />刺激：网站管理人员选择添加网站营销人员<br />响应：系统返回添加网站营销人员信息填写的界面<br />刺激：网站管理人员填写新的网站营销人员信息<br />响应：系统保存并更新网站营销人员信息
<a name="K6Eu2"></a>
##### 3.2.6.3 相关功能需求
|||
| --- | --- |
| User.Input<br />User.Input.id<br />User.Input.userType<br />User.Input.password<br />User.Input.userName<br />User.Input.phoneNumber<br />User.Input.email | 系统应该允许网站管理人员在进行用户管理时输入<br />网站管理人员输入用户id，系统执行信息输入<br />网站管理人员输入用户类型，系统执行信息输入<br />网站管理人员输入用户密码，系统执行信息输入<br />网站管理人员输入用户名，系统执行信息输入<br />网站管理人员输入用户手机号码，系统执行信息输入<br />网站管理人员输入用户邮箱，系统执行信息输入 |
| User.userInfo<br />User.userInfo.setUserName<br />User.userInfo.setPassword<br />User.userInfo.setPhoneNumber | 系统显示用户信息<br />系统根据输入设置用户名<br />系统根据输入设置密码<br />系统根据输入设置手机号 |
| User.user.setId<br />User.user.setUserName<br />User.user.setPassword<br />User.user.setPhoneNumber<br />User.user.setEmail<br />User.user.setUserType | 系统根据输入设置网站营销人员id<br />系统根据输入设置网站营销人员用户名<br />系统根据输入设置网站营销人员账户密码<br />系统根据输入设置网站营销人员手机号<br />系统根据输入设置网站营销人员邮箱<br />系统根据输入设置网站营销人员的用户类型 |
| User.updateUserInfo | 系统更新用户信息 |
| User.Close | 系统结束本次任务，等待开启下一次任务 |

<a name="vd8QN"></a>
#### 3.2.7 搜索查看酒店
<a name="gRv28"></a>
##### 3.2.7.1 特征描述
用户可以通过搜索、筛选、排序等方式全面地了解系统中各个酒店的信息，从而使用户更方便地选择符合自己预期的酒店和房间。<br />优先级：高
<a name="vtQTE"></a>
##### 3.2.7.2 刺激/响应序列
刺激：用户选择商圈和地址<br />响应：系统返回符合条件的酒店列表<br />刺激：用户选择筛选条件<br />响应：系统返回符合条件的酒店列表<br />刺激：用户选择排序方式<br />响应：系统返回以用户选择排序方式排序的酒店列表<br />刺激：用户查看酒店详情<br />响应：系统返回酒店详细信息页面
<a name="LkAaL"></a>
##### 3.2.7.3 相关功能需求
|||
| --- | --- |
| Hotel.Filter<br />Hotel.Filter.Input<br />Hotel.Filter.Input.Null<br />Hotel.Filter.Address<br />Hotel.Filter.BizRegion<br />Hotel.Filter.HotelName<br />Hotel.Fiilter.RoomType<br />Hotel.Filter.Price<br />Hotel.Filter.Price.Null<br />Hotel.Filter.Price.Min<br />Hotel.Filter.Pirce.Max<br />Hotel.Filter.Date<br />Hotel.Filter.Date.Null<br />Hotel.Filter.Date.valid<br />Hotel.Filter.Date.Invalid<br />Hotel.Filter.Quantity<br />Hotel.Filter.Quantity.Null<br />Hotel.Filter.Quantity.Valid<br />Hotel.Filter.Quantity.Invalid<br />Hotel.Filter.HotelStar<br />Hotel.Filter.HotelStar.Selected<br />Hotel.Filter.Hotel.Rate<br />Hotel.Filter.Hotel.Rate.Null<br />Hotel.Filter.Hotel.Rate.Min<br />Hotel.Filter.Hotel.Rate.Max | 系统允许用户在搜索酒店时对酒店进行筛选<br />系统允许用户输入关键字进行酒店筛选<br />用户取消关键字进行筛选时，系统要将此条件从总条件中删去，并显示所有符合条件的酒店列表用户选择酒店地址进行筛选，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表用户选择酒店商圈进行筛选，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户选择酒店名称进行筛选，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户选择房间类型进行筛选，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />系统允许用户通过价格区间来对酒店进行筛选<br />用户输入为空，系统将此筛选条件从总条件中删去，并显示所有符合条件的酒店列表<br />用户输入房间价格的下限，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户输入房间价格的上限，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />系统允许用户通过入住和退房日期来对酒店进行筛选<br />用户输入为空，系统将此筛选条件从总条件中删去，并显示所有符合条件的酒店列表<br />用户选择入住和退房日期，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户只选择入住日期，系统提示要选择退房日期<br />系统允许用户通过房间数量来对酒店进行筛选<br />用户输入为空，系统将此筛选条件从总条件中删去，并显示所有符合条件的酒店列表<br />用户选择房间数量，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户输入非数值型或负数输入时，系统提示请输入有效数字<br />系统允许用户通过酒店星级来对酒店进行筛选<br />用户选择酒店星级，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />系统允许用户通过酒店评分区间来对酒店进行筛选<br />用户输入为空，系统将此筛选条件从总条件中删去，并显示所有符合条件的酒店列表<br />用户输入酒店评分的下限，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表<br />用户输入酒店评分的上限，系统将此条件加入总筛选条件，并显示所有符合条件的酒店列表|
| Hotel.Sort<br />Hotel.Sort.Price<br />Hotel.Sort.Price.Asc<br />Hotel.Sort.Price.Dsc<br />Hotel.Sort.HotelStar<br />Hotel.Sort.HotelStar.Asc<br />Hotel.Sort.HotelStar.Dsc<br />Hotel.Sort.Rank<br />Hotel.Sort.Rank.Asc<br />Hotel.Sort.Rank.Dsc | 系统允许用户对酒店列表进行排序<br />系统允许用户按价格对酒店列表进行排序<br />用户选择按价格升序排序，系统显示排序后的酒店列表<br />用户选择按价格降序排序，系统显示排序后的酒店列表<br />系统允许用户按酒店星级对酒店列表进行排序<br />用户选择按酒店星级升序排序，系统显示排序后的酒店列表<br />用户选择按酒店星级降序排序，系统显示排序后的酒店列表<br />系统允许用户按评分对酒店列表进行排序<br />用户选择按评分升序排序，系统显示排序后的酒店列表<br />用户选择按评分降序排序，系统显示排序后的酒店列表 |
| Hotel.List<br />Hotel.List.Null | 系统按用户已选择的筛选条件和排序方式显示酒店列表<br />系统找不到符合用户筛选条件的酒店，提升用户无符合条件的酒店 |
| Hotel.Info | 用户选择某一酒店，系统显示该酒店详细信息 |

<a name="1IVMq"></a>
#### 3.2.8 生成订单
<a name="VqzCd"></a>
##### 3.2.8.1特征描述
用户可以在浏览酒店详情的时候发起预订，订单生成时考虑优惠策略计算价格，不需要考虑预付定金，订单中要记录创建时间，入住时间，退房时间，房间类型，入住人数，有无儿童，订单金额。同时启动最晚入住时间倒计时，以便系统自动设置异常订单。当客户信用低于0时，不能生成订单。<br />优先级：高
<a name="utWFZ"></a>
##### 3.2.8.2响应序列
刺激：客户设置订单信息，点击确认按钮<br />响应：系统记录订单信息（包括创建时间，入住时间，房间类型及数量，预计入住人数，有无儿童，订单金额），将订单设置为已预订状态，并启动最晚入住时间的倒计时<br />刺激：客户信用值低于0或者房间数量不足<br />响应：系统提示预定失败
<a name="SKvXd"></a>
##### 3.2.8.3相关功能需求
|||
| --- | --- |
| AddOrder.Order.Info<br />AddOrder.Order.HotelId<br />AddOrder.Order.RoomType<br />AddOrder.Order.RoomNum<br />AddOrder.Order.OrderState<br />AddOrder.Order.CreateDate<br />AddOrder.Order.abnormalOrder | 系统获取用户填写的订单信息，并添加一条订单记录<br />系统需要获取订单的酒店，房间类型，数量以检查房间是否充足<br />订单生成时，系统要将订单状态改为已预订<br />订单生成时，系统要记录订单生成的时间<br />订单生成时，系统启动最晚入住时间倒计时，以便设置异常订单 |
| AddOrder.User.credit | 用户的信用值低于0时，系统不能生成订单 |
| AddOrder.Hotel.roomInfo<br />AddOrder.Hotel.roomType.Num | 用户生成订单后，系统要更新酒店房间信息<br />系统需要获取酒店某类型房间剩余数量 |
| AddOrder.close | 系统结束本次任务，等待开始下一次任务 |



<a name="nrBi0"></a>
#### 3.2.9 评分评论
<a name="OINFC"></a>
##### 3.2.9.1特征描述
用户在完成入住和退房流程后，可以从描述相符，服务态度，卫生环境三方面对酒店进行评分，再以文字形式对入住体验做一个评价，然后系统会记录评价，并更新酒店和个人的评价展示页,重新计算酒店评分。<br />优先级：中
<a name="dmc2M"></a>
##### 3.2.9.2响应序列
刺激：客户点击评价按钮<br />响应：系统展示填写评价的对话框<br />刺激：客户填写描述相符，服务态度，卫生环境的评分，以及对入住体验的评论，点击确认<br />响应：系统提示预定成功，记录评价，更新评价展示页，关闭对话框<br />刺激：客户点击取消按钮<br />响应：系统关闭对话框
<a name="0DnR7"></a>
##### 3.2.9.3相关功能需求
|||
| --- | --- |
| Comment.addComment | 系统允许客户为已退房订单添加评论 |
| Comment.Info | 系统要获取并记录评论 |
| Comment.Input.DescriptionScore<br />Comment.Input.ServiceScore<br />Comment.Input.EnvironmentScore | 用户为描述相符评分<br />用户为服务态度评分<br />用户为卫生环境评分 |
| Comment.Order.UserId<br />Comment.Order.HotelId<br />Comment.Order.OrderState | 系统要自动记录评论者的ID<br />系统要自动记录被评论酒店的ID<br />客户评价后，系统更改订单状态为已评价 |
| Comment.Hotel.rate | 系统获取酒店历史评分和本次评价的评分值重新计算评分 |
| Comment.close | 系统结束本次任务，等待开始下一次任务 |

<a name="sjsZH"></a>
#### 3.2.10 个人基本信息管理
<a name="0hYWL"></a>
##### 3.2.10.1特征描述
用户可以在个人信息界面修改用户名，联系方式和密码，系统保存修改后的个人信息并对个人信息进行更新<br />优先级：高
<a name="bkMLi"></a>
##### 3.2.10.2响应序列
刺激：用户选择修改按钮<br />响应：系统提供输入框接受用户输入信息<br />刺激：用户输入要修改的信息并点击确认<br />响应：系统保存用户信息并提示修改成功。
<a name="vi2wn"></a>
##### 3.2.10.3相关功能需求
|||
| --- | --- |
| userInfo.modifyInfo | 系统允许用户选择修改个人信息 |
| userInfo.input<br />userInfo.input.userName<br />userInfo.input.phoneNumber<br />userInfo.input.password | 系统允许用户输入信息<br />用户输入要修改的用户名<br />用户输入要修改的手机号<br />用户输入要修改的密码 |
| userInfo.saveModify | 系统保存用户修改的信息，并对用户信息进行更新，结束本次修改 |
| userInfo.cancleModify | 系统允许用户放弃本次修改，个人信息不做改变，结束本次修改 |

<a name="JyS2C"></a>
#### 3.2.11 浏览酒店详细信息
<a name="2XwdV"></a>
##### 3.2.11.1特征描述
用户在首页点击酒店图片，可以进入酒店详细信息页面查看酒店评分、地址、简介、星级，评价和所有可定房间，以及用户在这家酒店的订单<br />优先级：高<br />
<a name="9OINX"></a>
##### 3.2.11.2响应序列
刺激：用户点击某一酒店图片<br />响应：系统跳转到酒店详细信息页面，显示评分，星级和地址<br />刺激：用户点击酒店简介<br />响应：系统显示酒店简介<br />刺激：用户点击历史评价<br />响应：系统显示对该酒店的历史评价<br />刺激：用户点击历史订单<br />响应：系统显示该用户在该酒店的历史<br />刺激：用户点击列表查看<br />响应：系统以列表方式显示所有酒店<br />
<a name="jtb6l"></a>
##### 3.2.11.3相关功能需求
| Hotel.hotelCard<br />Hotel.hotelDetail<br />Hotel.hotelInList | 点击图片，系统要跳转到酒店详细信息界面<br />系统展示酒店详细信息<br />系统获取所有酒店信息并列表显示 |
| --- | --- |
| hotel.userOrderList<br />hotel.commentsList<br />hotel.roomList | 系统显示该用户在当前查看酒店的订单<br />系统显示该酒店的历史评价<br />系统显示该酒店可订房间信息 |

<a name="ELWQB"></a>
#### 3.2.12 维护酒店基本信息
<a name="TQzeH"></a>
##### 3.2.11.1特征描述
为已经授权的酒店工作人员提供查看自身酒店信息和更新其信息的功能<br />为已经授权的网站管理人员提供增加和删除酒店的功能<br />优先级：高
<a name="XTufA"></a>
##### 3.2.11.2响应序列
刺激：酒店工作人员查看本酒店信息<br />响应：系统展示酒店信息<br />刺激：工作人员修改酒店的相关信息<br />响应：系统返回该酒店信息修改页面<br />刺激：酒店工作人员填写新信息并确认<br />响应：系统提示修改成功并更新数据库<br />刺激：网站工作人员查看所有酒店列表<br />响应：系统返回所有酒店列表<br />刺激：网站工作人员增加新的酒店<br />响应：系统返回酒店信息填写界面<br />刺激：网站工作人员填写酒店信息并确认<br />响应：系统提示添加成功并更新数据库<br />刺激：网站工作人员选择删除某一酒店并确认<br />响应：系统提示删除成功并更新数据库
<a name="ZdwTf"></a>
##### 3.2.11.3相关功能需求
|||
| --- | --- |
| Hotel.retrieveHotelDetails<br />Hotel.retrieveHotelDetails.hotelDetail | 系统应允许酒店工作人员查看本酒店详细信息<br />系统显示本酒店详细信息 |
| Hotel.updateHotelInfo<br />Hotel.updateHotelInfo.start<br />Hotel.updateHotelInfo.input<br />Hotel.updateHotelInfo.end<br />Hotel.updateHotelInfo.update<br /> | 系统应允许酒店工作人员更新本酒店信息<br />当酒店管理人员需要更新酒店信息时，系统显示酒店信息填写页面<br />系统允许酒店管理人员输入酒店新信息<br />系统允许酒店信息更新结束<br />系统更新数据库 |
| Hotel.retrieveHotels<br />Hotel.retrieveHotels.hotelInList | 系统应允许网站管理人员获取所有酒店列表<br />当网站管理人员选择查看酒店列表时，系统显示所有酒店列表 |
| Hotel.addHotel<br />Hotel.addHotel.start<br />Hotel.addHotel.input<br />Hotel.addHotel.end<br />Hotel.addHotel.update | 系统应允许网站管理人员给网站添加新的酒店<br />当网站管理人员选择添加新的酒店，系统显示酒店基本信息填写页面<br />系统允许网站管理人员输入酒店新信息<br />系统允许酒店信息添加结束<br />系统更新数据库 |
| Hotel.deleteHotel<br />Hotel.deleteHotel.start<br />Hotel.deleteHotel.end<br />Hotel.deleteHotel.update | 系统应允许网站管理人员删除网站中已录入的酒店<br />系统应允许网站管理人员选择要删除的目标酒店<br />系统应允许网站管理人员完成删除酒店工作<br />系统更新数据库 |

<a name="8QdFS"></a>
#### 3.2.13 录入可用客房
<a name="7L0OT"></a>
##### 3.2.11.1特征描述
为已经授权的酒店工作人员提供录入新的客房信息的功能<br />优先级：高
<a name="BvIt6"></a>
##### 3.2.11.2响应序列
刺激：酒店工作人员选择添加新的客房<br />响应：系统显示客房信息填写页面<br />刺激：酒店工作人员填写客房信息并确认录入<br />响应：系统提示录入成功并跟新数据库
<a name="e7Jhq"></a>
##### 3.2.11.3相关功能需求
|||
| --- | --- |
| Hotel.room.insertRoomInfo<br />Hotel.room.insertRoomInfo.start<br />Hotel.room.insertRoomInfo.input<br />Hotel.room.insertRoomInfo.end<br />Hotel.room.insertRoomInfo.update | 系统应允许酒店管理人员给酒店录入新的房间<br />当酒店管理人员选择录入新的房间时，系统显示房间信息填写界面<br />系统允许酒店管理人员输入新的客房信息<br />系统允许客房信息添加结束<br />系统更新数据库 |
<a name="YafYy"></a>
#### 3.2.14 信用充值
**3.2.14.1 特征描述**<br />用户线下充值，网站管理人员为用户增加信用值<br />优先级：高<br />**3.2.14.2 响应序列**<br />刺激：网站管理人员点击用户充值<br />响应：系统显示充值界面<br />刺激：网站管理人员输入充值金额<br />响应：系统提示充值成功并更新用户信用值<br />**      3.2.14.3 相关功能需求**

|||
| --- | --- |
| Hotel.credit.chargeCredit<br />Hotel.credit.getAllCredits<br />Hotel.credit.getUserCredits<br />Hotel.credit.addCreditRecord | 系统允许用户为信用值充值<br />系统允许网站管理人员查看所有信用记录<br />系统允许用户查看个人信用记录变更情况<br />系统更新数据库 |

<a name="b2wSF"></a>
#### 3.2.15 酒店管理
**3.2.15.1 特征描述**<br />为已授权的网站管理人员提供录入酒店删除酒店的功能<br />优先级：高<br />**3.2.15.2 响应序列**<br />刺激：网站管理人员选择管理酒店<br />响应：系统显示酒店管理界面<br />刺激：网站管理人员选择添加酒店<br />响应：系统显示填写酒店信息的界面<br />刺激：网站管理人员输入酒店基本信息<br />响应：系统提示添加成功并更新数据库<br />刺激：网站管理人员选择删除酒店<br />响应：系统提示删除成功并更新数据库<br />**3.2.15.3 相关功能需求**

|||
| --- | --- |
| Hotel.hotel.addHotel<br />Hotel.hotel.retrieveHotels<br />Hotel.hotel.getHotelById<br />Hotel.hotel.deleteHotel | 系统允许网站管理人员添加酒店<br />系统允许网站管理人员查看所有酒店信息<br />系统允许网站管理人员查看某个酒店信息<br />系统允许网站管理人员删除酒店 |

<a name="11Ne8"></a>
### 3.3 非功能需求


<a name="f3822229"></a>
#### 3.3.1  安全性
Safety1: 系统应该允许未登录的客户搜索和浏览酒店，只允许经过信息验证通过的用户生成订单<br />Safety2: 系统应该按照用户身份验证用户的访问权限：用户，酒店工作人员，网站营销人员，系统管理员，<br />Safety3: 用户只能查看和维护自己的信息<br />Safety4: 酒店工作人员只能处理其所指定的酒店的工作<br />Safety5: 系统中有一个默认的管理员账户，该账户只允许管理员用户修改口令<br />Safety6: 为防信息泄露，用户的账号、密码、姓名、联系方式必须密文存储
<a name="b80ee278"></a>
#### 3.3.2  可维护性
Modifiability1: 如果系统需要增加新的酒店人员及其职能（例如酒店客服，酒店经理），要能够在0.25个人月内完成<br />Modifiability2: 如果系统需要增加新的酒店类型或新的房间类型，要能够在0.25个人月内完成<br />Modifiability3: 如果系统要增加新的折扣和促销策略，要能够在0.25个人月内完成<br />Modifiability3: 如果系统要增加新的会员服务，要能够在0.25个人月内完成
<a name="cf81b908"></a>
#### 3.3.3  易用性
Usability1: 用户不需要经过相关系统使用的培训或者阅读系统使用手册指南，就能够使用本系统所有用户可使用的功能<br />Usability2: 所有类型人员都不需要专门的培训，就可以在 10 分钟内完成任一个操作任务。
<a name="884d01ee"></a>
#### 3.3.4  可靠性
Reliability1: 当不超过一万人同时在线时，系统不崩溃<br />Reliability2: 当不超过一千人同时下订单时，系统不崩溃<br />Reliabitlity3: 当系统崩溃时，已经保存的数据不会丢失<br />Reliability4: 在客户端与服务器通信时，如果网络故障，系统不能出现故障<br />    Reliability4.1: 客户端应该检测到故障，并尝试重新连接网络5次，每次15秒<br />        Reliability4.1.1: 重新连接成功后，客户端应该继续之前的工作<br />        Reliability4.1.2: 如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接<br />            Reliability4.1.2.1: 重新连接成功后，客户端应该继续之前的工作<br />            Reliability4.1.2.2: 如果重新连接仍然不成功，客户端报警
<a name="340713c0"></a>
#### 3.3.5  业务规则
BR1: 适用（打折额度，减免金额额度，参照日期）的网站促销策略。<br />        （促销额度<=打折额度）而且（促销额度<=减免金额额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））<br />BR2: 适用（优惠门槛，参照日期）的生日特惠折扣策略。<br />        （订单价值>=优惠门槛）而且（（开始时间等于参照时间）并且（结束时间等于参照时间））<br />BR3: 适用（订单价值，用户信用值）的转换策略。<br />        （用户信用值=原用户信用值+本次订单价值）<br />BR4: 适用（用户信用值）的恶意撤销订单<br />        若距离订单最晚执行时间不足6小时用户撤销订单，（用户信用值=原用户信用值-1/2本次订单价值）
<a name="13c78d18"></a>
#### 3.3.6  约束
IC1: 系统要在网络上分布为一个服务器和多个客户端
<a name="8290e05f"></a>
### 3.4  数据需求


<a name="1bc1e05c"></a>
#### 3.4.1  数据定义
DR1：系统需要存储的数据实体及其关系参见概念类图<br />DR2：系统需要存储1年内的订单记录<br />DR3：系统删除之后的订单数据和用户数据仍然需要存储3个月以上的时间以保证历史数据显示的正确性<br />DR4：系统必须以密文存储用户信息
<a name="d92d09cd"></a>
#### 3.4.2  默认数据
默认数据用于以下情况：

- 填写或编辑数据时将非必须的项目栏留空

Default1：用于信息填写中留空的项目栏依据其数据类型设定默认值：整型或浮点型数据默认为0，字符型数据默认为空<br />Default2：信用数据默认为0<br />Default3：用户的默认身份为客户<br />Default4：时间默认为当天
<a name="c38d6802"></a>
#### 3.4.3  数据格式要求
Format1：用户名必须汉字、字母或者数字组成，不能出现特殊字符<br />Format2：数量的格式必须是正整数<br />Format3：价格和费用的格式必须是大于等于0、精确到小数点后2位的浮点数，单位为元<br />Format4：入住日期和退房日期的格式必须为yyyy-mm-dd，最晚订单执行时间为yyyy-mm-dd-hh
<a name="891684a2"></a>
### 3.5  其他
